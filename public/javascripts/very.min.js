/*! very-share 2015-03-23 */
!function(a){function b(){var b=a(window).innerWidth(),c=a(window).innerHeight();return Math.sqrt(Math.pow(b,2)+Math.pow(c,2))}a.blot=a.blot||{},a.blot.defaults={duration:1500,easing:"easeInOutCubic"},a.blotIn=function(c,d){c=c||{},"function"==typeof c&&(d=c,c={});var e=a("<div>").addClass("blot-in"),f=b();e.css("width",f).css("height",f),e.centerIn(window),a("body").append(e);var g=c.duration||a.blot.defaults.duration;d=d||c.complete||function(){};var h=c.easing||a.blot.defaults.easing;return e.animate({borderWidth:f/2+1},g,h,d),this},a.blotIn.off=function(c,d){c=c||{},"function"==typeof c&&(d=c,c={});var e=a(".blot-in"),f=(b(),c.duration||a.blot.defaults.duration);d=d||c.complete||function(){};var g=c.easing||a.blot.defaults.easing;return e.animate({borderWidth:0},f,g,function(){e.remove(),d()}),this},a.blotOut=function(c,d){c=c||{},"function"==typeof c&&(d=c,c={});var e=a("<div>").addClass("blot-out"),f=b();e.css("width",1).css("height",1),e.centerIn(window),a("body").append(e);var g=c.duration||a.blot.defaults.duration;d=d||c.complete||function(){};var h=c.easing||a.blot.defaults.easing;return e.animate({width:f+1,height:f+1},{duration:g,easing:h,complete:d,step:function(){e.centerIn(window)}}),this},a.blotOut.off=function(c,d){c=c||{},"function"==typeof c&&(d=c,c={});var e=a(".blot-out"),f=(b(),c.duration||a.blot.defaults.duration);d=d||c.complete||function(){};var g=c.easing||a.blot.defaults.easing;return e.animate({width:0,height:0},{duration:f,easing:g,complete:function(){e.remove(),d()},step:function(){e.centerIn(window)}}),this}}(jQuery),function(a){function b(b,c,d){if("number"==typeof c)return c;if(/px$/i.test(c))return parseFloat(c.replace("px",""),10);if(/%$/.test(c)){var e="width"===d?a(b).innerWidth():a(b).innerHeight();return c=parseFloat(c.replace("%",""),10),c/=100,c*e}return parseFloat(c,10)}function c(a,b,c,e){var f=[];return e&&"both"!==e?"horizontal"===e?f.push(a):"vertical"===e&&f.push(b):(f.push(b),f.push(a)),c&&f.push(c),d(f)}function d(){var a=e(arguments);return function(){for(var b=0;b<a.length;b++)a[b].apply(this,arguments)}}function e(a){a=a||[];for(var b=[],c=a.length,d=0;c>d;d++){var f=a[d];"object"==typeof f&&Array.isArray(f)?b=b.concat(e(f)):b.push(f)}return b}a.fn.centerIn=function(d,e,f){var g=this;e=e||{},"function"==typeof e&&(f=e,e={});var h=e.direction||a.fn.centerIn.defaults.direction,i=e.left||0,j=e.top||0;d=d?a(d).first():g.first().parent();try{d.css("position")&&"static"!==d.css("position")||d.css("position","relative")}catch(k){}var l=function(a){var c=Math.round((d.innerWidth()-a.outerWidth(!1))/2);c+=b(d,i,"width"),a.css("left",c+"px")},m=function(a){var c=Math.round((d.innerHeight()-a.outerHeight(!1))/2);c+=b(d,j,"height"),a.css("top",c+"px")},n=c(l,m,f,h);return g.each(function(b,c){c=a(c),"fixed"!==c.css("position")&&c.css("position","absolute"),n(c)}),this},a.fn.alwaysCenterIn=function(){var b=arguments||[],c=a(this);c.centerIn.apply(c,b);var d="resize.centerIn";return c.attr("id")&&(d+="."+c.attr("id")),a(window).on(d,function(){c.centerIn.apply(c,b)}),this},a.fn.centerIn.defaults={direction:"both"}}(jQuery);var ColorUtils={};!function(a){"use strict";function b(a,b,c){return Math.max(Math.min(a,c),b)}ColorUtils.average=function(c,d,e){e=e===a?.5:e,e=b(e,0,1);var f={};for(var g in c)c.hasOwnProperty(g)&&(f[g]=(1-e)*c[g]+e*d[g]);return f},ColorUtils.rotate=function(b,c){var d=c.a||1;return c.r!==a&&(c=ColorUtils.RGBtoHSV(c.r,c.g,c.b)),c.h+=b,c.h<0&&(c.h=360-Math.abs(c.h)%360),c=ColorUtils.HSVtoRGB(c.h,c.s,c.v),c.a=d,c},ColorUtils.brighten=function(a){a=a||{};var c=ColorUtils.toHSV(a.color),d=Math.round(a.percent/100*255),e=c.v+d;return c.v=b(e,0,255),ColorUtils.HSVtoRGB(c.h,c.s,c.v)},ColorUtils.lighten=function(a){var c=a.color,d=ColorUtils.RGBtoHSL(c.r,c.g,c.b);return d.l+=b(a.percent/100,0,1),ColorUtils.HSLtoRGB(d.h,d.s,d.l)},ColorUtils.interpolate=function(a){a=a||{};var c=a.percent||0;c=b(c/100,0,1);var d=function(d){var e=a.start[d],f=a.end[d]-a.start[d];return Math.round(b(e+f*c,0,255))};return{r:d("r"),g:d("g"),b:d("b")}},ColorUtils.toHSL=function(b){if("string"==typeof b)return b=ColorUtils.hexToRGB(b),ColorUtils.RGBtoHSL(b.r,b.g,b.b);if(b.r!==a)return ColorUtils.RGBtoHSL(b.r,b.g,b.b);if(b.h!==a&&b.l!==a)return b;if(b.h!==a&&b.v!==a)return b=ColorUtils.HSVtoRGB(b.h,b.s,b.l),ColorUtils.RGBtoHSL(b.r,b.g,b.b);throw b+" is not in a known form convertable to HSL."},ColorUtils.toHSV=function(b){if("string"==typeof b)return b=ColorUtils.hexToRGB(b),ColorUtils.RGBtoHSV(b.r,b.g,b.b);if(b.r!==a)return ColorUtils.RGBtoHSV(b.r,b.g,b.b);if(b.h!==a&&b.v!==a)return b;if(b.h!==a&&b.l!==a)return b=ColorUtils.HSLtoRGB(b.h,b.s,b.l),ColorUtils.RGBtoHSV(b.r,b.g,b.b);throw b+" is not in a known form convertable to HSV."},ColorUtils.RGBtoHSL=function(b,c,d){var e=ColorUtils.RGBtoHSV(b,c,d),f={h:e.h,s:a,l:a},g=Math.min(b,c,d),h=Math.max(b,c,d);return f.l=(g+h)/2/255,f.s=(h-g)/255/(1-Math.abs(2*f.l-1)),f},ColorUtils.HSLtoRGB=function(c,d,e){c%=360,c=c>=0?c:c+360,d=b(d,0,1),e=b(e,0,1);var f=(1-Math.abs(2*e-1))*d,g=c/60,h=f*(1-Math.abs(g%2-1)),i={r:0,g:0,b:0};if(g===a)return i;g>=0&&1>g?(i.r=f,i.g=h):g>=1&&2>g?(i.r=h,i.g=f):g>=2&&3>g?(i.g=f,i.b=h):g>=3&&4>g?(i.g=h,i.b=f):g>=4&&5>g?(i.r=h,i.b=f):(i.r=f,i.b=h);var j=e-f/2;for(var k in i){if(!i.hasOwnProperty(k))return;i[k]=Math.round(255*(i[k]+j)),i[k]=b(i[k],0,255)}return i},ColorUtils.RGBtoHSV=function(b,c,d){var e,f,g,h,i,j;return e=Math.min(b,c,d),f=Math.max(b,c,d),j=f,g=f-e,0!==f?(i=g/f,h=0===g?0:b===f?(c-d)/g:c===f?2+(d-b)/g:4+(b-c)/g,h*=60,h%=360,h=0>h?h+360:h):(i=0,h=a),{h:h,s:i,v:j}},ColorUtils.HSVtoRGB=function(a,b,c){var d,e,f,g,h;switch(d=c*b,a%=360,e=a/60,f=d*(1-Math.abs(e%2-1)),g=[0,0,0],Math.floor(e)){case 0:g=[d,f,0];break;case 1:g=[f,d,0];break;case 2:g=[0,d,f];break;case 3:g=[0,f,d];break;case 4:g=[f,0,d];break;case 5:g=[d,0,f]}return h=c-d,{r:g[0]+h,g:g[1]+h,b:g[2]+h}},ColorUtils.hexToRGB=function(a){a=a.replace(/^#/,"");var b=a.substr(0,2),c=a.substr(2,2),d=a.substr(4,2);return{r:parseInt(b,16),g:parseInt(c,16),b:parseInt(d,16)}},ColorUtils.rgbToHex=function(a){function b(a){var b="";return 9>=a&&(b+="0"),b+=Math.round(a).toString(16)}var c="#";return c+=b(a.r),c+=b(a.g),c+=b(a.b)},ColorUtils.parseRGBA=function(a){a=a.replace(/\s+/g,"");var b=a.match(/^rgba?\((\d+),(\d+),(\d+),?(\d+)?\)$/);return b.splice(0,1),{r:b[0],g:b[1],b:b[2],a:b[3]||1}}}(),function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),function(a){"use strict";function b(){for(var b=p(1,t),c=0;7>c;c++){var f=o(b.length-1),g=b[f];b.splice(f,1),g=g.toFixed(0);var i=new Audio("/audio/veryshare-"+g+".wav");i.preload=!0,a.browser.iproduct?r.push(i):a(i).one("canplaythrough",function(a){return function(){r.push(a)}}(i))}a("#share").on("click",function(){h(),e(d),q(A)}).one("click",function(){w=clearInterval(w),v.blink=!1,a("#main").fadeChangeText("GO FAST!")}).mousedown(function(){a.browser.mobile||a(this).removeClass("pulsate")});var j=a("<div>").text("0").addClass("real-time-counter");a("body").append(j),j.fadeIn(200).queue(function(){a(this).alwaysCenterIn(window,{direction:"horizontal"}),a(this).dequeue()})}function c(){a("<img>").addClass("reward-1").attr("src",DOGE_IMAGE_SRC);a("#youare").hide(),a("#share").removeClass("fadeToSun fadeToGreen green").addClass("reward").css("background-image","url("+DOGE_IMAGE_SRC+")").off("click").on("click",function(){a.browser.mobile||a("#share").addClass("pulsate"),f({title:"Many share. Such love.",description:"Such WOW! There's so much sharing going on at http://veryshare.us",media:"/images/veryshare.png"})}).centerIn(),a("#main").text(x).centerIn().addClass("reward"),a("#social").show(),a("#next").show(),a(".real-time-counter").hide(),a.blotIn.off(function(){v.vibrate=!0,v.blink=!1,a("#share").removeClass("fadeToSun fadeToGreen green"),a.post("/1.0/reward-seen")});var b=" tiem(s)";a("#youshared").alwaysCenterIn(window,{direction:"horizontal"}).fadeIn(200,function(){a(this).centerIn(window,{direction:"horizontal"})}).text("You powershared "+D+b+"!").click(function(){f({title:"Wow!!! POWERSHARE.",description:"I POWERSHARED "+D+b+" on Very Share! Think you can beat me? http://veryshare.us",media:"/images/veryshare.png"})}),a("#rewardtext").html("It was me all along!<br>Thanks for sharing fellow shibe, it's for my health! <span class='heart'>&hearts;</span>").alwaysCenterIn(window,{direction:"horizontal"}).fadeIn(200,function(){a(this).centerIn(window,{direction:"horizontal"})}),a("#again").alwaysCenterIn(window,{direction:"horizontal"}).fadeIn(200,function(){a(this).centerIn(window,{direction:"horizontal"})}).click(function(){location.reload()}),setInterval(function(){q(DOGE_IMAGE_WORDS)},3e3)}function d(){a("#share").addClass("green reward").removeClass("fadeToRed fadeToGreen").off("click"),a.browser.mobile||a("#share").addClass("pulsate"),v.blink=!1,v.vibrate=!1,a("#main").fadeChangeText("So Share!"),h(),a.blotIn(c)}function e(b){B&&(B=clearTimeout(B)),D++;var c=.9+D/25;c=m(c,.9,2.5);var d=ColorUtils.interpolate({start:ColorUtils.hexToRGB("#BF1600"),end:ColorUtils.hexToRGB("#00FFB8"),percent:D/25*100});if(a(".real-time-counter").text(D).css("font-size",c+"em").css("color",ColorUtils.rgbToHex(d)).centerIn(window,{direction:"horizontal"}),25===D&&!a.browser.mobile){var e=function(){var b=a(window).innerHeight()/2,c=parseInt(a(".real-time-counter").css("bottom").replace("px",""),10),d=b-c-a(".real-time-counter").outerHeight(!1);a(".real-time-counter").css("-webkit-transform-origin","50% -"+d+"px").css("transform-origin","50% -"+d+"px")};a(".real-time-counter").addClass("orbit"),e(),a(window).on("resize",function(){e()})}C||(a("#share").removeClass("fadeToRed").cssAnimation("fadeToGreen","green"),C=!0),B=setTimeout(function(){B=null,C=!1,a("#share").removeClass("green fadeToRed").css("border-color","").css("background-color",""),a.browser.mobile||a("#share").addClass("pulsate"),a.post("/1.0/power-share",{powershares:D}),b&&b()},3e3)}function f(b){b=b||{};var c=z[y],d=c.url.format_url({VERYSHARE:HOST,TITLE:b.title,DESCRIPTION:b.description,MEDIA:b.media}),e={};e[c.data]=!0,a.post("/1.0/shared",e);var f=window.open(d,"_blank");f.focus()}function g(){y=(y+1)%z.length;var b=z[y];a("#social img").attr("src","/images/"+b.img).attr("title",b.name).attr("alt",b.name),a("#social").cssAnimation("social-switch-network")}function h(){if(w&&(w=clearInterval(w),k({initial_delay:5e3})),0!==r.length){var a=s%r.length,b=r[a];s++,b.play()}}function i(){a("#container").css("height",a(window).innerHeight()),a(window).on("resize",function(){a("#container").css("height",a(window).innerHeight())}),a("#share").alwaysCenterIn(),a("#next").alwaysCenterIn(window,{direction:"horizontal"}),a.browser.mobile||a("#share").addClass("pulsate"),setTimeout(function(){a("#share").centerIn().fadeIn(1e3,function(){a("#main").alwaysCenterIn()}),a("#social").alwaysCenterIn("#share",{direction:"horizontal"}),a("#main").centerIn()},300),j(),a(window).on("resize.buttonSize",j),setTimeout(function(){l(a("#share"))},500),setInterval(function(){!a("#share").is(":hover")&&v.vibrate&&l(a("#share"))},Math.round(5e3*Math.random()+4500)),a("#next").mouseover(function(){a("#social").addClass("hover")}).mouseout(function(){a("#social").removeClass("hover")}).click(g),k({initial_delay:3e3})}function j(){var b=200,c=Math.min(a(window).innerHeight(),a(window).innerWidth()),d=Math.max(.4*c,b),e=Math.max(.08*d,18);a("#share").css("width",d).css("height",d).css("border-width",e+"px");var f=2.5;f*=d/b,a("#main").css("font-size",f+"em");var g=35,h=Math.max(.175*d,g);a("#social").css("width",h).css("height",h)}function k(b){b=b||{};var c=b.initial_delay||0,d=b.releat_delay||7e3,e=function(){if(v.blink){var b=["Share Me!"];u.init&&(b=["? ? ?","Mystery?","What?"]);var c=n(b);a("#main").fadeChangeText(c,1250,function(){if(v.blink){var b=u.init?u.button_text:x;a("#main").fadeChangeText(b)}})}};setTimeout(function(){e(),w=setInterval(e,d)},c)}function l(b){{var c=Math.round(Math.random()),d=c?"up":"left";a("#share").width()}v.vibrate&&a(b).effect("shake",{times:7,distance:3,direction:d,complete:function(){b.centerIn()}},10)}function m(a,b,c){return Math.max(Math.min(a,c),b)}function n(a){var b=o(a.length);return a[b]}function o(a){return Math.floor(Math.random()*a)}function p(a,b,c){var d=[];c=c||1;for(var e=a;b>=e;e+=c)d.push(e);return d}function q(b){var c=a("<div>").addClass("dogeitem").text(n(b)),d=a(window).innerHeight(),e=a(window).innerWidth(),f=Math.floor(d*Math.random()),g=Math.floor(e*Math.random());f=m(f,.1*d,.85*d),g=m(g,.1*e,.75*e),c.css("top",f).css("left",g);var h=.5+2*Math.random();c.css("font-size",h.toFixed(1)+"em");var i=Math.floor(Math.pow(255,3)*Math.random()).toString(16);c.css("color","#"+i),a("body").append(c),c.delay(1500).fadeOut(1e3,function(){a(this).remove()})}var r=[],s=0,t=15,u={init:!1,active:!1,button_text:"WOW!",titles:["Such Reward!","WOW","? ? ? ? ? ?","What's that?!","Such Wonder!"],original_title:document.title},v={blink:!0,vibrate:!0},w=null,x=a("#main").text(),y=0,z=[{name:"Facebook",data:"facebook",url:"https://www.facebook.com/sharer.php?u=#{VERYSHARE}&t=#{TITLE}&s=#{DESCRIPTION}",img:"facebook.png"},{name:"Twitter",data:"twitter",url:"http://twitter.com/intent/tweet?source=sharethiscom&text=#{DESCRIPTION}&url=#{VERYSHARE}",img:"twitter.png"},{name:"Tumblr",data:"tumblr",url:"http://www.tumblr.com/share?v=3&u=#{VERYSHARE}&t=#{TITLE}&s=#{DESCRIPTION}",img:"tumblr.png"},{name:"Pinterest",data:"pinterest",url:"http://pinterest.com/pin/create/button/?url=#{VERYSHARE}&media=http://#{VERYSHARE}/#{MEDIA}&description=#{DESCRIPTION}",img:"pinterest.png"},{name:"Google Plus",data:"googleplus",url:"https://plus.google.com/share?url=#{VERYSHARE}",img:"googleplus.png"},{name:"Email",data:"email",url:"mailto:myfriends@example.com?subject=#{TITLE}&body=#{DESCRIPTION}",img:"email.png"}],A=["such WOW!","WOW!","wow","such share","much viral","such amaze","very share","such wonder!","such legit","many friend","die squirrel","such inspire","much inspire","such surprise","very excite","such experiment","many happy","many clicks"];a(document).ready(function(){i(),b(),a("#youshared").alwaysCenterIn(window,{direction:"horizontal"}),a.browser.mobile&&document.body.setAttribute("orient","profile")});var B=null,C=!1,D=0;String.prototype.format_url=function(a){return Object.keys(a).forEach(function(b){a[b]=encodeURIComponent(a[b])}),this.format(a)},String.prototype.format=function(a){var b=this;return Object.keys(a).forEach(function(c){b=b.replace(new RegExp("#{"+c+"}","g"),a[c])}),b},a.fn.cssAnimation=function(b,c){return a(this).addClass(b).animationend(function(){a(this).addClass(c).removeClass(b)}),this},a.fn.animationend=function(b){return a(this).one("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",b)},a.fn.fadeChangeText=function(b,c,d){var e;d&&(e=function(){setTimeout(d,c)}),a(this).fadeOut(200,function(){a(this).text(b).centerIn().fadeIn(200,e)})},a.fn.delayedCenterIn=function(){var b=a(this);return setTimeout(function(){b.centerIn()},10),this},a.browser=a.browser||{},a.browser.iproduct=/ipad|iphone/i.test(navigator.userAgent)}(jQuery);